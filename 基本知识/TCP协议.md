
# TCP协议 #
## 服务特点 ##
	1. 面向连接
	2. 字节流
	3. 可靠传输
#### 面向连接 ####
通信双方必须先建立连接，然后才能开始数据的读写。双方都必须为该连接分配必要的内核资源，以管理连接的状态和连接上数据的传输。TCP连接是全双工的，即双方的数据读写可以通过一个连接进行。完成数据交换之后，通信双方都必须断开连接以释放系统资源。

#### 字节流 ####
![TCP字节流、UDP数据报](https://github.com/qujianbo/linux_server/blob/master/img/TCP%E5%AD%97%E8%8A%82%E6%B5%81%E3%80%81UDP%E6%95%B0%E6%8D%AE%E6%8A%A5.PNG)
	
可以看出二者的区别，字节流表明应用程序对数据的发送和接收是没有边界限制的。
UDP则不然，发送端应用程序每执行一次写操作，UDP模块就将其封装成一个UDP数据报并发送。
接收端必须及时针对每一个UDP数据报执行读操作（通过recvfrom系统调用），否则就会丢包。并且，如果用户没有指定足够的
应用程序缓冲区来读取UDP数据，则UDP数据将被截断。

#### 可靠传输 ####
TCP传输是可靠的。首先，TCP协议采用发送应答机制，即发送端发送的每个TCP报文段都必须得到接收方的应答，才认为这个TCP报文段传输成功。其次，TCP协议采用超时重传机制，发送端在发送出一个TCP报文段之后启动定时器，如果在定时时间内未收到应答，它将重发该报文段，。并且由于IP协议的不可靠，因此TCP协议还会对接收到的TCP报文段重排、整理，再交给应用层。